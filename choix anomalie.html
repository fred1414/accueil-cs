<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="icon" href="favicon.ico" type="image/x-icon">
<title>Choix anomalie ‚Äî CIS</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:'Inter',sans-serif}
body{
  background:linear-gradient(135deg,#1d3f73 0%,#d43d3d 100%);
  min-height:100vh;display:flex;flex-direction:column;color:#222;
}

/* HEADER */
header{
  background:#fff;display:flex;align-items:center;justify-content:space-between;
  padding:14px 24px;box-shadow:0 4px 12px rgba(0,0,0,.15);
}
header img{height:60px}
header .title{font-size:24px;color:#0d2b52;font-weight:800}
header .subtitle{font-size:14px;color:#444;margin-top:4px}
.acceuil-btn{
  background:#b71c1c;color:#fff;font-weight:800;border:none;border-radius:12px;
  padding:10px 14px;cursor:pointer;transition:.2s;font-size:14px;
}
.acceuil-btn:hover{background:#8b0000}

/* MAIN */
main{
  flex:1;max-width:1100px;margin:20px auto;padding:0 16px;
  display:grid;gap:16px;grid-template-columns:1fr;
}
.panel{
  background:rgba(255,255,255,.92);
  border-radius:18px;
  padding:20px;
  box-shadow:0 6px 16px rgba(0,0,0,.10);
  display:flex;flex-direction:column;gap:14px;

  /* ‚úÖ carte moins ‚Äúhaute‚Äù + plus large pour accueillir des GROS boutons */
  max-width:820px;
  width:100%;
  margin:0 auto;
}
.panel h2{
  font-size:22px;font-weight:800;color:#0d2b52;
  border-left:6px solid #b71c1c;padding-left:10px
}
.help{font-size:14px;color:#444}

/* ‚úÖ Boutons ENORMES + V√©hicules √† gauche / Patrimoine √† droite */
.buttons{
  display:flex;
  gap:18px;
  width:100%;
  margin-top:10px;
}

.btn{
  flex:1 1 0;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:12px;

  /* ‚úÖ √©norme */
  padding:30px 22px;
  font-size:28px;
  font-weight:900;
  min-height:120px;

  border:none;
  border-radius:20px;
  cursor:pointer;
  color:#fff;
  text-decoration:none;

  box-shadow:0 12px 26px rgba(0,0,0,.18);
  transition:transform .2s ease, filter .2s ease;
}
.btn:hover{
  transform:translateY(-3px);
  filter:brightness(1.05);
}

/* Couleurs */
.btn.primary{background:#1a73e8}
.btn.secondary{background:#6a1b9a}

/* Footer */
footer{text-align:center;color:#fff;font-size:13px;padding:20px}

/* üì± Mobile */
@media (max-width:768px){
  header{
    flex-direction:column;align-items:center;justify-content:center;
    gap:8px;padding:10px 14px;text-align:center
  }
  header img{height:50px;margin:0 auto}
  header .title{font-size:20px}
  header .subtitle{font-size:13px}
  .acceuil-btn{
    width:100%;border-radius:999px;padding:8px 0
  }

  main{margin:16px auto;padding:0 12px}
  .panel{padding:16px; max-width:100%;}
  .panel h2{font-size:18px}
  .help{font-size:13px}

  /* ‚úÖ gros boutons en colonne sur mobile */
  .buttons{flex-direction:column; gap:14px;}
  .btn{
    width:100%;
    font-size:22px;
    min-height:96px;
    padding:22px 18px;
    border-radius:18px;
  }
}
</style>
</head>

<body>
<header>
  <img src="https://i.postimg.cc/LsB40JQq/logo-cismic.png" alt="Logo SDIS 30">
  <div>
    <div class="title">Choix anomalie</div>
    <div class="subtitle" id="cisLabel">‚Äî</div>
  </div>
  <button class="acceuil-btn" onclick="goAccueil()">‚üµ Accueil</button>
</header>

<main>
  <section class="panel">
    <h2>‚ö†Ô∏è S√©lection du type d‚Äôanomalie</h2>
    <p class="help">Merci de choisir la cat√©gorie concern√©e.</p>

    <div class="buttons">
      <!-- ‚úÖ gauche -->
      <a class="btn primary" href="vehicules.html">üöí V√©hicules</a>
      <!-- ‚úÖ droite -->
      <a class="btn secondary" href="patrimoine.html">üèõÔ∏è Patrimoine</a>
    </div>
  </section>
</main>

<footer>¬© CISMIC ‚Äî Choix anomalie ‚Äî 2025</footer>

<script>
let ctx={user:null,cis:""};

function robustSession(){
  try{
    const raw=localStorage.getItem("csver_session");
    if(!raw) return null;
    const s=JSON.parse(raw);
    return s && typeof s==="object" ? s : null;
  }catch(_){ return null; }
}

function goAccueil(){
  try{ window.location.href='index.html'; }catch(_){}
}

function init(){
  const sess=robustSession();
  if(!sess){
    alert('Session expir√©e.');
    try{window.location.href='login.html'}catch(_){}
    return;
  }
  ctx.user=sess;
  ctx.cis=Array.isArray(sess.cis)?sess.cis[0]:sess.cis;
  document.getElementById('cisLabel').textContent =
    'Centre de Secours ' + (ctx.cis || '‚Äî');
}

window.addEventListener('DOMContentLoaded', init);
window.addEventListener('storage',()=>init());
</script>
</body>
</html>
