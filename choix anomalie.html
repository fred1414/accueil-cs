<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="icon" href="favicon.ico" type="image/x-icon">
<title>Choix anomalie ‚Äî CIS</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:'Inter',sans-serif}
body{
  background:linear-gradient(135deg,#1d3f73 0%,#d43d3d 100%);
  min-height:100vh;display:flex;flex-direction:column;color:#222;
}

/* HEADER */
header{
  background:#fff;display:flex;align-items:center;justify-content:space-between;
  padding:14px 24px;box-shadow:0 4px 12px rgba(0,0,0,.15);
}
header img{height:60px}
header .title{font-size:24px;color:#0d2b52;font-weight:800}
header .subtitle{font-size:14px;color:#444;margin-top:4px}
.acceuil-btn{
  background:#b71c1c;color:#fff;font-weight:800;border:none;border-radius:12px;
  padding:10px 14px;cursor:pointer;transition:.2s;font-size:14px;
}
.acceuil-btn:hover{background:#8b0000}

/* MAIN */
main{
  flex:1;
  max-width:1300px;
  margin:20px auto;
  padding:0 16px;
  display:grid;
  place-items:center;
}

/* Panel */
.panel{
  background:rgba(255,255,255,.92);
  border-radius:18px;
  padding:22px 24px;
  box-shadow:0 10px 24px rgba(0,0,0,.12);
  display:flex;
  flex-direction:column;
  gap:14px;

  width:100%;
  max-width:980px;
}

.panel h2{
  font-size:22px;font-weight:800;color:#0d2b52;
  border-left:6px solid #b71c1c;padding-left:10px
}
.help{font-size:14px;color:#444}

/* ‚úÖ Maintenant en colonne : V√©hicules en haut, Patrimoine en bas */
.buttons{
  display:flex;
  flex-direction:column;
  gap:18px;
  width:100%;
  margin-top:8px;
}

/* Boutons */
.btn{
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:18px;

  padding:26px 26px;
  min-height:140px;
  border-radius:22px;

  color:#fff;
  text-decoration:none;
  font-weight:900;
  font-size:30px;

  box-shadow:0 14px 28px rgba(0,0,0,.18);
  transition:transform .18s ease, filter .18s ease;
  position:relative;
  overflow:hidden;
}
.btn:hover{
  transform:translateY(-4px);
  filter:brightness(1.05);
}

.btn .icon{
  width:64px;height:64px;
  display:grid;place-items:center;
  font-size:42px;
  background:rgba(255,255,255,.18);
  border-radius:18px;
  flex:0 0 auto;
}

.btn .label{
  display:flex;
  flex-direction:column;
  line-height:1.05;
}
.btn .label small{
  font-size:14px;
  font-weight:700;
  opacity:.9;
  margin-top:6px;
}

.btn.primary{
  background:linear-gradient(135deg,#1a73e8 0%, #165fc2 100%);
}
.btn.secondary{
  background:linear-gradient(135deg,#6a1b9a 0%, #4a1670 100%);
}

/* Footer */
footer{text-align:center;color:#fff;font-size:13px;padding:18px}

/* üì± Mobile */
@media (max-width:768px){
  header{
    flex-direction:column;align-items:center;justify-content:center;
    gap:8px;padding:10px 14px;text-align:center
  }
  header img{height:50px;margin:0 auto}
  header .title{font-size:20px}
  header .subtitle{font-size:13px}
  .acceuil-btn{
    width:100%;border-radius:999px;padding:8px 0
  }

  main{margin:16px auto;padding:0 12px}

  .panel{
    max-width:100%;
    padding:16px;
  }
  .panel h2{font-size:18px}
  .help{font-size:13px}

  .buttons{gap:14px}

  .btn{
    font-size:22px;
    min-height:100px;
    padding:18px 18px;
    border-radius:18px;
  }
  .btn .icon{
    width:52px;height:52px;
    font-size:34px;
    border-radius:16px;
  }
  .btn .label small{font-size:12px}
}
</style>
</head>

<body>
<header>
  <img src="https://i.postimg.cc/LsB40JQq/logo-cismic.png" alt="Logo SDIS 30">
  <div>
    <div class="title">Choix anomalie</div>
    <div class="subtitle" id="cisLabel">‚Äî</div>
  </div>
  <button class="acceuil-btn" onclick="goAccueil()">‚üµ Accueil</button>
</header>

<main>
  <section class="panel">
    <h2>‚ö†Ô∏è S√©lection du type d‚Äôanomalie</h2>
    <p class="help">Merci de choisir la cat√©gorie concern√©e.</p>

    <!-- ‚úÖ V√©hicules en haut -->
    <div class="buttons">
      <a class="btn primary" href="vehicules.html">
        <span class="icon">üöí</span>
        <span class="label">
          V√©hicules
          <small>D√©clarer une anomalie v√©hicule</small>
        </span>
      </a>

      <!-- ‚úÖ Patrimoine en dessous -->
      <a class="btn secondary" href="patrimoine.html">
        <span class="icon">üèõÔ∏è</span>
        <span class="label">
          Patrimoine
          <small>D√©clarer une anomalie b√¢timent</small>
        </span>
      </a>
    </div>
  </section>
</main>

<footer>¬© CISMIC ‚Äî Choix anomalie ‚Äî 2025</footer>

<script>
let ctx={user:null,cis:""};

function robustSession(){
  try{
    const raw=localStorage.getItem("csver_session");
    if(!raw) return null;
    const s=JSON.parse(raw);
    return s && typeof s==="object" ? s : null;
  }catch(_){ return null; }
}

function goAccueil(){
  try{ window.location.href='index.html'; }catch(_){}
}

function init(){
  const sess=robustSession();
  if(!sess){
    alert('Session expir√©e.');
    try{window.location.href='login.html'}catch(_){}
    return;
  }
  ctx.user=sess;
  ctx.cis=Array.isArray(sess.cis)?sess.cis[0]:sess.cis;
  document.getElementById('cisLabel').textContent =
    'Centre de Secours ' + (ctx.cis || '‚Äî');
}

window.addEventListener('DOMContentLoaded', init);
window.addEventListener('storage',()=>init());
</script>
</body>
</html>
